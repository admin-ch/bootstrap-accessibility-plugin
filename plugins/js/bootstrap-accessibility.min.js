/*! bootstrap-accessibility-plugin - v1.0.3 - 2017-12-6
* https://github.com/paypal/bootstrap-accessibility-plugin
* Copyright (c) 2017 PayPal Accessibility Team; Licensed BSD */
!function(t){"use strict";var a=function(t){return(t||"ui-id")+"-"+Math.floor(1e3*Math.random()+1)},e=function(a,e,r){var o=(a.attr(e)||"").split(/\s+/),n=t.inArray(r,o);-1!==n&&o.splice(n,1),(o=t.trim(o.join(" ")))?a.attr(e,o):a.removeAttr(e)};t(".alert").attr("role","alert"),t(".close").removeAttr("aria-hidden").wrapInner('<span aria-hidden="true"></span>').append('<span class="sr-only">Close</span>');var r=t.fn.tooltip.Constructor.prototype.show,o=t.fn.tooltip.Constructor.prototype.hide;t.fn.tooltip.Constructor.prototype.show=function(){r.apply(this,arguments);var t=this.tip(),e=t.attr("id")||a("ui-tooltip");t.attr({role:"tooltip",id:e}),this.$element.attr("aria-describedby",e)},t.fn.tooltip.Constructor.prototype.hide=function(){return o.apply(this,arguments),e(this.$element,"aria-describedby",this.tip().attr("id")),this};var n=t.fn.popover.Constructor.prototype.setContent,i=t.fn.popover.Constructor.prototype.hide;t.fn.popover.Constructor.prototype.setContent=function(){n.apply(this,arguments);var t=this.tip(),e=t.attr("id")||a("ui-tooltip");t.attr({role:"alert",id:e}),this.$element.attr("aria-describedby",e),this.$element.focus()},t.fn.popover.Constructor.prototype.hide=function(){return i.apply(this,arguments),e(this.$element,"aria-describedby",this.tip().attr("id")),this},t(".modal-dialog").attr({role:"document"});var s=t.fn.modal.Constructor.prototype.hide;t.fn.modal.Constructor.prototype.hide=function(){var t=this.$element.parent().find('[data-target="#'+this.$element.attr("id")+'"]');s.apply(this,arguments),t.focus()};var l,d="[data-toggle=dropdown]";t(d).parent().find("ul").attr("role","menu").find("li").attr("role","presentation").find("a").attr({role:"menuitem",tabIndex:"-1"}),t(d).attr({"aria-haspopup":"true","aria-expanded":"false"}),t(d).parent().on("shown.bs.dropdown",function(a){(l=t(this)).find(d).attr("aria-expanded","true")}),t(d).parent().on("hidden.bs.dropdown",function(a){(l=t(this)).find(d).attr("aria-expanded","false")}),t.fn.dropdown.Constructor.prototype.keydown=function(a){/(32)/.test(a.keyCode)&&(t(this).parent(),t(this).trigger("click"),a.preventDefault()&&a.stopPropagation())};var p=t(".nav-tabs, .nav-pills"),c=p.children("li"),u=p.find('[data-toggle="tab"], [data-toggle="pill"]');p.attr("role","tablist"),c.attr("role","presentation"),u.attr("role","tab"),u.each(function(e){var r=t(t(this).attr("href")),o=t(this),n=o.attr("id")||a("ui-tab");o.attr("id",n),o.parent().hasClass("active")?(o.attr({tabIndex:"0","aria-selected":"true","aria-controls":o.attr("href").substr(1)}),r.attr({role:"tabpanel","aria-hidden":"false","aria-labelledby":n})):(o.attr({tabIndex:"-1","aria-selected":"false","aria-controls":o.attr("href").substr(1)}),r.attr({role:"tabpanel","aria-hidden":"true","aria-labelledby":n}))}),t.fn.tab.Constructor.prototype.keydown=function(a){var e,r,o=t(this),n=o.closest("ul[role=tablist] "),i=a.which||a.keyCode;if(o=t(this),/(37|38|39|40)/.test(i)){r=(e=n.find("[role=tab]:visible")).index(e.filter(":focus")),38!=i&&37!=i||r--,39!=i&&40!=i||r++,r<0&&(r=e.length-1),r==e.length&&(r=0);var s=e.eq(r);"tab"===s.attr("role")&&s.focus(),a.preventDefault(),a.stopPropagation()}},t(document).on("keydown.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',t.fn.tab.Constructor.prototype.keydown);var f=t.fn.tab.Constructor.prototype.activate;t.fn.tab.Constructor.prototype.activate=function(t,a,e){var r=a.find("> .active");r.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"-1","aria-selected":!1}),r.filter(".tab-pane").attr({"aria-hidden":!0}),f.apply(this,arguments),t.addClass("active"),t.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"0","aria-selected":!0}),t.filter(".tab-pane").attr({"aria-hidden":!1})};var h=t('[data-toggle="collapse"]');h.attr({role:"tab","aria-selected":"false","aria-expanded":"false"}),h.each(function(e){var r=t(this),o=t(r.attr("data-target")?r.attr("data-target"):r.attr("href")),n=r.attr("data-parent"),i=n&&t(n),s=r.attr("id")||a("ui-collapse");t(i).find("div:not(.collapse,.panel-body), h4").attr("role","presentation"),r.attr("id",s),i&&(i.attr({role:"tablist","aria-multiselectable":"true"}),o.hasClass("in")?(r.attr({"aria-controls":r.attr("href").substr(1),"aria-selected":"true","aria-expanded":"true",tabindex:"0"}),o.attr({role:"tabpanel",tabindex:"0","aria-labelledby":s,"aria-hidden":"false"})):(r.attr({"aria-controls":r.attr("href").substr(1),tabindex:"-1"}),o.attr({role:"tabpanel",tabindex:"-1","aria-labelledby":s,"aria-hidden":"true"})))});var b=t.fn.collapse.Constructor.prototype.toggle;t.fn.collapse.Constructor.prototype.toggle=function(){var a,e=this.$parent&&this.$parent.find('[aria-expanded="true"]');if(e){var r,o=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),n=t(o),i=this.$element;this.$parent;this.$parent&&(r=this.$parent.find('[data-toggle=collapse][href="#'+this.$element.attr("id")+'"]')),b.apply(this,arguments),t.support.transition&&this.$element.one(t.support.transition.end,function(){e.attr({"aria-selected":"false","aria-expanded":"false",tabIndex:"-1"}),n.attr({"aria-hidden":"true",tabIndex:"-1"}),r.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:"0"}),i.hasClass("in")?i.attr({"aria-hidden":"false",tabIndex:"0"}):(r.attr({"aria-selected":"false","aria-expanded":"false"}),i.attr({"aria-hidden":"true",tabIndex:"-1"}))})}else b.apply(this,arguments)},t.fn.collapse.Constructor.prototype.keydown=function(a){var e,r,o=t(this),n=o.closest("div[role=tablist] "),i=a.which||a.keyCode;o=t(this),/(32|37|38|39|40)/.test(i)&&(32==i&&o.click(),r=(e=n.find("[role=tab]")).index(e.filter(":focus")),38!=i&&37!=i||r--,39!=i&&40!=i||r++,r<0&&(r=e.length-1),r==e.length&&(r=0),e.eq(r).focus(),a.preventDefault(),a.stopPropagation())},t(document).on("keydown.collapse.data-api",'[data-toggle="collapse"]',t.fn.collapse.Constructor.prototype.keydown),t(".carousel").each(function(a){var e=t(this),r=e.find('[data-slide="prev"]'),o=e.find('[data-slide="next"]'),n=e.find(".item"),i=n.parent();e.attr({"data-interval":"false","data-wrap":"false"}),i.attr("role","listbox"),n.attr("role","option");var s=document.createElement("span");s.setAttribute("class","sr-only"),s.innerHTML="Previous";var l=document.createElement("span");l.setAttribute("class","sr-only"),l.innerHTML="Next",r.attr("role","button"),o.attr("role","button"),r.append(s),o.append(l),n.each(function(){var a=t(this);a.hasClass("active")?a.attr({"aria-selected":"true",tabindex:"0"}):a.attr({"aria-selected":"false",tabindex:"-1"})})});var y=t.fn.carousel.Constructor.prototype.slide;t.fn.carousel.Constructor.prototype.slide=function(a,e){var r=this.$element.find(".item.active"),o=e||r[a]();y.apply(this,arguments),r.one(t.support.transition.end,function(){r.attr({"aria-selected":!1,tabIndex:"-1"}),o.attr({"aria-selected":!0,tabIndex:"0"})})},t.fn.carousel.Constructor.prototype.keydown=function(a){var e,r=t(this),o=r.closest("div[role=listbox]"),n=o.find("[role=option]"),i=o.parent(),s=a.which||a.keyCode;/(37|38|39|40)/.test(s)&&(e=n.index(n.filter(".active")),37!=s&&38!=s||(i.carousel("prev"),--e<0?e=n.length-1:r.prev().focus()),39!=s&&40!=s||(i.carousel("next"),++e==n.length?e=0:r.one(t.support.transition.end,function(){r.next().focus()})),a.preventDefault(),a.stopPropagation())},t(document).on("keydown.carousel.data-api","div[role=option]",t.fn.carousel.Constructor.prototype.keydown)}(jQuery);